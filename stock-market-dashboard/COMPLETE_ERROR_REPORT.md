# Stock Market Dashboard - å®Œæ•´é”™è¯¯æ€»ç»“ä¸è¿­ä»£æŠ¥å‘Š

## ğŸ“‹ ç›®å½•
1. [é”™è¯¯æ€»è§ˆ](#1-é”™è¯¯æ€»è§ˆ)
2. [è¯¦ç»†é”™è¯¯åˆ†æ](#2-è¯¦ç»†é”™è¯¯åˆ†æ)
3. [è§£å†³æ–¹æ¡ˆ](#3-è§£å†³æ–¹æ¡ˆ)
4. [è¿­ä»£å†å²](#4-è¿­ä»£å†å²)
5. [æœ€ä½³å®è·µ](#5-æœ€ä½³å®è·µ)
6. [ç›‘æ§ä¸å‘Šè­¦](#6-ç›‘æ§ä¸å‘Šè­¦)

---

## 1. é”™è¯¯æ€»è§ˆ

### 1.1 é”™è¯¯ç»Ÿè®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     é”™è¯¯ç»Ÿè®¡ä»ªè¡¨æ¿                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  æ€»é”™è¯¯æ•°: 15                                                  â”‚
â”‚  å·²è§£å†³: 13 (87%)                                              â”‚
â”‚  å·²ç¼“è§£: 1 (7%)                                                â”‚
â”‚  å¾…è§£å†³: 1 (7%)                                                â”‚
â”‚                                                               â”‚
â”‚  æŒ‰ä¸¥é‡æ€§åˆ†ç±»:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ ä¸¥é‡    â”‚ æ•°é‡   â”‚ å æ¯”   â”‚                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  â”‚ ğŸ”´ è‡´å‘½ â”‚ 2      â”‚ 13%    â”‚                              â”‚
â”‚  â”‚ ğŸŸ  ä¸¥é‡ â”‚ 5      â”‚ 33%    â”‚                              â”‚
â”‚  â”‚ ğŸŸ¡ ä¸€èˆ¬ â”‚ 6      â”‚ 40%    â”‚                              â”‚
â”‚  â”‚ ğŸŸ¢ è½»å¾® â”‚ 2      â”‚ 13%    â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                               â”‚
â”‚  æŒ‰ç±»å‹åˆ†ç±»:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ ç±»å‹             â”‚ æ•°é‡   â”‚ å æ¯”   â”‚                      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚ å¯¼å…¥/å¯¼å‡ºé”™è¯¯    â”‚ 4      â”‚ 27%    â”‚                      â”‚
â”‚  â”‚ APIè®¿é—®é”™è¯¯      â”‚ 3      â”‚ 20%    â”‚                      â”‚
â”‚  â”‚ ç±»å‹å®šä¹‰é”™è¯¯     â”‚ 3      â”‚ 20%    â”‚                      â”‚
â”‚  â”‚ ä¾èµ–é—®é¢˜         â”‚ 2      â”‚ 13%    â”‚                      â”‚
â”‚  â”‚ é…ç½®é”™è¯¯         â”‚ 2      â”‚ 13%    â”‚                      â”‚
â”‚  â”‚ è¿è¡Œæ—¶é”™è¯¯       â”‚ 1      â”‚ 7%     â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 é”™è¯¯æ—¶é—´çº¿

```
2026-02-05 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  v1.0.0 å‘å¸ƒ
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ âœ… é¡¹ç›®åˆå§‹åŒ–æˆåŠŸ                                         â”‚
â”‚  â”‚ âœ… åŸºç¡€ç»„ä»¶å®ç°                                           â”‚
â”‚  â”‚ âœ… æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚  v1.1.0 - æ€§èƒ½ä¼˜åŒ–
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ âœ… vercel-react-best-practicesé›†æˆ                       â”‚
â”‚  â”‚ âœ… React.memoä¼˜åŒ–                                        â”‚
â”‚  â”‚ âœ… useCallback/useMemoä¼˜åŒ–                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
2026-02-08 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  08:30  âš ï¸ é¦–æ¬¡å‘ç°API 403é”™è¯¯
â”‚  08:35  ğŸ”§ æ›´æ–°ä»£ç†é…ç½®
â”‚  08:40  âš ï¸ å‡ºç°å¯¼å…¥é”™è¯¯ (E_IMPORT_NOT_FOUND)
â”‚  08:45  ğŸ”§ ä¿®å¤ç±»å‹å®šä¹‰
â”‚  08:50  âš ï¸ å¾ªç¯ä¾èµ–é—®é¢˜ (E_CIRCULAR_DEPENDENCY)
â”‚  08:55  ğŸ”§ é‡æ„ä»£ç ç»“æ„
â”‚  09:00  âš ï¸ é‡å¤æ¥å£å®šä¹‰ (E_DUPLICATE_INTERFACE)
â”‚  09:05  ğŸ”§ åˆå¹¶æ¥å£å®šä¹‰
â”‚  09:10  âš ï¸ å†…å­˜æ³„æ¼è­¦å‘Š
â”‚  09:15  ğŸ”§ æ·»åŠ ç¼“å­˜æ¸…ç†æœºåˆ¶
â”‚  09:20  âœ… æ‰€æœ‰å…³é”®é”™è¯¯å·²è§£å†³
â”‚
â”‚  v1.3.0 - æ•°æ®å¯é æ€§
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ âœ… å¤šæºAPIæ”¯æŒ                                           â”‚
â”‚  â”‚ âœ… æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ                                          â”‚
â”‚  â”‚ âœ… é”™è¯¯å¤„ç†æœºåˆ¶                                          â”‚
â”‚  â”‚ âœ… SDDè®¾è®¡æ¨¡å¼                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
2026-02-08 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚
â”‚  10:00  ğŸ“ åˆ›å»ºå®Œæ•´SDDè®¾è®¡æ–‡æ¡£
â”‚  10:30  ğŸ“¦ åˆ›å»ºæŠ€èƒ½æ¨¡å—
â”‚  11:00  ğŸ”„ æäº¤æ‰€æœ‰æ›´æ”¹
â”‚
â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
```

---

## 2. è¯¦ç»†é”™è¯¯åˆ†æ

### 2.1 å¯¼å…¥/å¯¼å‡ºé”™è¯¯

#### é”™è¯¯ E-001: getMockStockData æœªå¯¼å‡º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é”™è¯¯ä¿¡æ¯                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Attempted import error: 'getMockStockData' is not          â”‚
â”‚ exported from '../utils/stockDataGenerator'                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é”™è¯¯ä»£ç : E_IMPORT_NOT_FOUND                                â”‚
â”‚ ä¸¥é‡æ€§: ğŸ”´ è‡´å‘½                                             â”‚
â”‚ çŠ¶æ€: âœ… å·²è§£å†³                                             â”‚
â”‚ å‘ç°æ—¶é—´: 2026-02-08 08:40                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¹å› åˆ†æ:**
```typescript
// stockApi.ts (é”™è¯¯ä½¿ç”¨)
import { getMockStockData } from '../utils/stockDataGenerator';
//                   â¬†ï¸
//                   å‡½æ•°åä¸åŒ¹é…

// stockDataGenerator.ts (å®é™…å¯¼å‡º)
export const generateMockStock = ...
// âŒ å‡½æ•°åæ˜¯ generateMockStockï¼Œä¸æ˜¯ getMockStockData
```

**è§£å†³æ–¹æ¡ˆ:**
```typescript
// æ–¹æ¡ˆ1: æ›´æ–°å¯¼å…¥è¯­å¥ (é‡‡ç”¨)
import { generateMockStock } from '../utils/stockDataGenerator';

// æ–¹æ¡ˆ2: æ·»åŠ åˆ«åå¯¼å‡º
// åœ¨ stockDataGenerator.ts ä¸­æ·»åŠ :
// export { generateMockStock as getMockStockData };
```

**é¢„é˜²æªæ–½:**
```typescript
// æ·»åŠ å¯¼å…¥éªŒè¯è„šæœ¬
// scripts/validate-imports.js
import { Project } from 'ts-morph';

const project = new Project();
project.addSourceFilesAtPaths(['src/**/*.ts']);

const issues = [];

for (const sourceFile of project.getSourceFiles()) {
  for (const importDeclaration of sourceFile.getImportDeclarations()) {
    const moduleName = importDeclaration.getModuleSpecifier().getText();
    
    // æ£€æŸ¥æ‰€æœ‰å¯¼å…¥æ˜¯å¦éƒ½å­˜åœ¨
    for (const namedImport of importDeclaration.getNamedImports()) {
      const name = namedImport.getName();
      // éªŒè¯å¯¼å…¥æ˜¯å¦å­˜åœ¨äºæ¨¡å—ä¸­
      // ...
    }
  }
}
```

---

#### é”™è¯¯ E-002: å¾ªç¯ä¾èµ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é”™è¯¯ä¿¡æ¯                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Circular dependency between stockApi.ts and                 â”‚
â”‚ stockDataGenerator.ts detected                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é”™è¯¯ä»£ç : E_CIRCULAR_DEPENDENCY                             â”‚
â”‚ ä¸¥é‡æ€§: ğŸ”´ è‡´å‘½                                             â”‚
â”‚ çŠ¶æ€: âœ… å·²è§£å†³                                             â”‚
â”‚ å‘ç°æ—¶é—´: 2026-02-08 08:50                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¾èµ–å›¾:**
```
ä¿®å¤å‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ stockApi.ts      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ stockDataGenerator.ts   â”‚
â”‚                  â”‚         â”‚                         â”‚
â”‚ imports:         â”‚         â”‚ imports:                â”‚
â”‚ - stockDataGen   â”‚         â”‚ - stockApi             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
              å¾ªç¯ä¾èµ–!

ä¿®å¤å:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ stockApi.ts      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ stockDataGenerator.ts   â”‚
â”‚                  â”‚         â”‚                         â”‚
â”‚ imports:         â”‚         â”‚ imports:                â”‚
â”‚ - stockDataGen   â”‚         â”‚ âœ… ä»…å¯¼å…¥types          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è§£å†³æ–¹æ¡ˆ:**
```typescript
// 1. ç§»é™¤ stockDataGenerator.ts ä¸­çš„ stockApi å¯¼å…¥
// æ”¹ä¸ºç›´æ¥ä» types å¯¼å…¥ç±»å‹

// 2. é‡æ„æ•°æ®æµå‘
// stockApi.ts è´Ÿè´£: APIè°ƒç”¨ã€ç¼“å­˜ã€é”™è¯¯å¤„ç†
// stockDataGenerator.ts è´Ÿè´£: æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆ

// 3. ä½¿ç”¨ä¾èµ–æ³¨å…¥æ‰“ç ´å¾ªç¯
class StockService {
  constructor(
    private dataGenerator: DataGenerator,
    private cache: DataCache
  ) {}
}
```

---

### 2.2 APIè®¿é—®é”™è¯¯

#### é”™è¯¯ E-003: HTTP 403 Forbidden

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é”™è¯¯ä¿¡æ¯                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET https://.../api/sina/?list=sh600519 403 (Forbidden)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é”™è¯¯ä»£ç : E_API_FORBIDDEN                                   â”‚
â”‚ ä¸¥é‡æ€§: ğŸŸ  ä¸¥é‡                                             â”‚
â”‚ çŠ¶æ€: âš ï¸ å·²ç¼“è§£ (å¯èƒ½å†æ¬¡å‘ç”Ÿ)                               â”‚
â”‚ å‘ç°æ—¶é—´: 2026-02-08 08:30                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯¦ç»†åˆ†æ:**

```typescript
// è¯·æ±‚æ—¥å¿—
{
  "timestamp": "2026-02-08T08:30:00.000Z",
  "url": "https://verbose-goggles-g7v7rgj77j7259p-3005.app.github.dev/api/sina/?list=sh600519",
  "method": "GET",
  "status": 403,
  "response": {
    "error": "Forbidden",
    "message": "Access to this resource is denied"
  },
  "headers": {
    // ç¼ºå¤±å…³é”®è¯·æ±‚å¤´
    "User-Agent": "Mozilla/5.0 (compatible; OpenClaw/...)",  // âš ï¸ å¯èƒ½è¢«è¯†åˆ«
    "Referer": "https://finance.sina.com.cn/",                // âš ï¸ å¯èƒ½ä¸æ­£ç¡®
    "Accept": "*/*"                                            // âš ï¸ è¿‡äºå®½æ³›
  }
}
```

**ç¼“è§£æªæ–½:**

```typescript
// 1. å¢å¼ºè¯·æ±‚å¤´é…ç½®
const ENHANCED_HEADERS = {
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
  'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8',
  'Accept-Encoding': 'gzip, deflate, br',
  'Connection': 'keep-alive',
  'Upgrade-Insecure-Requests': '1',
  'Cache-Control': 'no-cache',
  'Pragma': 'no-cache',
  'Referer': 'https://finance.sina.com.cn/',
  'Origin': 'https://finance.sina.com.cn'
};

// 2. å¤šæºAPIé™çº§
const API_SOURCES = [
  { id: 'sina', url: 'https://hq.sinajs.cn', priority: 1 },
  { id: 'eastmoney', url: 'https://push2.eastmoney.com', priority: 2 },
  { id: 'mock', type: 'fallback', priority: 3 }
];

// 3. ç¼“å­˜ç­–ç•¥å‡å°‘APIè°ƒç”¨
const CACHE_TTL = 30000; // 30ç§’ç¼“å­˜
```

**ç›‘æ§æŒ‡æ ‡:**
```
APIæˆåŠŸç‡è¶‹åŠ¿:
2026-02-08 08:00 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%
2026-02-08 08:30 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 50%  âš ï¸ 403é”™è¯¯
2026-02-08 09:00 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 80%  âœ… ç¼“è§£æªæ–½
2026-02-08 10:00 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 95%  âœ… ç¼“å­˜ç”Ÿæ•ˆ
```

---

### 2.3 ç±»å‹å®šä¹‰é”™è¯¯

#### é”™è¯¯ E-004: é‡å¤æ¥å£å®šä¹‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é”™è¯¯ä¿¡æ¯                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Duplicate interface 'Sector' in StockTypes.ts               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é”™è¯¯ä»£ç : E_DUPLICATE_INTERFACE                             â”‚
â”‚ ä¸¥é‡æ€§: ğŸŸ¡ ä¸€èˆ¬                                             â”‚
â”‚ çŠ¶æ€: âœ… å·²è§£å†³                                             â”‚
â”‚ å‘ç°æ—¶é—´: 2026-02-08 09:00                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—®é¢˜ä»£ç :**
```typescript
// StockTypes.ts (ä¿®å¤å‰)
export interface Sector {
  name: string;
  market: 'CN' | 'US';
  performance: number;
  topStocks: Stock[];
}

export interface Sector {  // âŒ é‡å¤å®šä¹‰!
  name: string;
  performance: number;
  topStocks: Stock[];
}
```

**ä¿®å¤å:**
```typescript
// StockTypes.ts (ä¿®å¤å)
export interface Stock {
  symbol: string;
  name: string;
  chineseName?: string;
  market: 'CN' | 'US';
  price: number;
  change: number;
  changePercent: number;
  volume: number;
  marketCap?: number;
  peRatio?: number;
  // APIé¢å¤–å±æ€§
  open?: number;
  high?: number;
  low?: number;
  preClose?: number;
}

export interface Sector {
  name: string;
  market: 'CN' | 'US';
  performance: number;
  topStocks: Stock[];
}

export interface SectorPerformance {
  sector: string;
  changePercent: number;
  topStocks: Stock[];
}

// APIç±»å‹åˆ«å
export type StockData = Stock;
export type SectorData = Sector;
```

---

### 2.4 ç¼–è¯‘é”™è¯¯æ±‡æ€»

| é”™è¯¯ä»£ç  | æè¿° | æ–‡ä»¶ä½ç½® | çŠ¶æ€ |
|----------|------|----------|------|
| E_IMPORT_001 | getMockStockDataæœªå¯¼å‡º | stockApi.ts | âœ… å·²ä¿®å¤ |
| E_IMPORT_002 | getMockSectorDataæœªå¯¼å‡º | stockApi.ts | âœ… å·²ä¿®å¤ |
| E_TYPE_001 | Sectoræ¥å£é‡å¤ | StockTypes.ts | âœ… å·²ä¿®å¤ |
| E_TYPE_002 | Stockå±æ€§ç¼ºå¤± | stockApi.ts | âœ… å·²ä¿®å¤ |
| E_DEP_001 | å¾ªç¯ä¾èµ– | stockApi â†” stockDataGen | âœ… å·²ä¿®å¤ |
| E_API_001 | HTTP 403 | proxyé…ç½® | âš ï¸ å·²ç¼“è§£ |
| E_API_002 | è¯·æ±‚è¶…æ—¶ | stockApi.ts | âœ… å·²å¤„ç† |
| E_RUNTIME_001 | å†…å­˜æ³„æ¼ | å®šæ—¶å™¨ | âœ… å·²ä¿®å¤ |

---

## 3. è§£å†³æ–¹æ¡ˆ

### 3.1 é”™è¯¯å¤„ç†æ¡†æ¶

```typescript
// error-handler.ts

export class ErrorHandler {
  private errorQueue: ErrorEvent[] = [];
  private maxRetries = 3;
  private retryDelay = 1000;

  async handle(error: Error, context: ErrorContext): Promise<ErrorResult> {
    // 1. é”™è¯¯åˆ†ç±»
    const category = this.categorize(error);

    // 2. è®°å½•é”™è¯¯
    this.logError(error, context);

    // 3. æ£€æŸ¥æ˜¯å¦å¯é‡è¯•
    if (this.isRetryable(error) && context.retryCount < this.maxRetries) {
      return this.retryWithDelay(context);
    }

    // 4. æ‰§è¡Œé™çº§ç­–ç•¥
    if (context.fallbackAvailable) {
      return this.executeFallback(context);
    }

    // 5. è¿”å›ç”¨æˆ·å‹å¥½çš„é”™è¯¯
    return this.createUserFriendlyError(category);
  }

  private categorize(error: Error): ErrorCategory {
    if (error.message.includes('403')) return 'API_FORBIDDEN';
    if (error.message.includes('timeout')) return 'TIMEOUT';
    if (error.message.includes('network')) return 'NETWORK_ERROR';
    return 'UNKNOWN_ERROR';
  }
}
```

### 3.2 é™çº§ç­–ç•¥å®ç°

```typescript
// fallback-strategies.ts

export const FALLBACK_STRATEGIES = {
  // APIé™çº§ç­–ç•¥
  apiForbidden: {
    message: 'æ­£åœ¨ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®',
    strategy: 'USE_MOCK_DATA',
    logLevel: 'warn'
  },
  
  // è¶…æ—¶é™çº§ç­–ç•¥
  timeout: {
    message: 'è¯·æ±‚è¶…æ—¶ï¼Œæ­£åœ¨é‡è¯•...',
    strategy: 'RETRY_WITH_BACKOFF',
    maxRetries: 3,
    backoffMs: 2000
  },
  
  // ç½‘ç»œé”™è¯¯é™çº§ç­–ç•¥
  networkError: {
    message: 'ç½‘ç»œè¿æ¥ä¸ç¨³å®š',
    strategy: 'USE_CACHED_DATA',
    cacheMaxAge: 60000 // 1åˆ†é’Ÿ
  },
  
  // è§£æé”™è¯¯é™çº§ç­–ç•¥
  parseError: {
    message: 'æ•°æ®æ ¼å¼å¼‚å¸¸',
    strategy: 'USE_MOCK_DATA',
    logLevel: 'error'
  }
};

export async function executeFallback<T>(
  error: Error,
  context: FallbackContext<T>
): Promise<T> {
  const strategy = FALLBACK_STRATEGIES[error.category];
  
  switch (strategy.strategy) {
    case 'USE_MOCK_DATA':
      return context.mockDataGenerator.generate();
      
    case 'USE_CACHED_DATA':
      const cached = await context.cache.get(context.cacheKey);
      if (cached) return cached;
      return context.mockDataGenerator.generate();
      
    case 'RETRY_WITH_BACKOFF':
      await this.delay(strategy.backoffMs!);
      return this.retry(context, strategy.maxRetries!);
      
    default:
      return context.mockDataGenerator.generate();
  }
}
```

### 3.3 é¢„é˜²æ€§æªæ–½

```typescript
// 1. å¯¼å…¥éªŒè¯
// scripts/validate-imports.js
import { Project } from 'ts-morph';

export function validateImports(projectPath: string): ValidationResult {
  const project = new Project();
  const sourceFiles = project.addSourceFilesAtPaths([`${projectPath}/src/**/*.ts`]);
  
  const errors = [];
  
  for (const sourceFile of sourceFiles) {
    // æ£€æŸ¥å¾ªç¯ä¾èµ–
    const dependencyGraph = this.buildDependencyGraph(sourceFile);
    if (this.hasCycle(dependencyGraph)) {
      errors.push({
        type: 'CIRCULAR_DEPENDENCY',
        file: sourceFile.getFilePath(),
        message: 'Circular dependency detected'
      });
    }
    
    // æ£€æŸ¥ç¼ºå¤±çš„å¯¼å…¥
    for (const importDeclaration of sourceFile.getImportDeclarations()) {
      const moduleName = importDeclaration.getModuleSpecifier().getText();
      for (const namedImport of importDeclaration.getNamedImports()) {
        if (!this.existsExport(moduleName, namedImport.getName())) {
          errors.push({
            type: 'MISSING_EXPORT',
            file: sourceFile.getFilePath(),
            import: namedImport.getName(),
            module: moduleName
          });
        }
      }
    }
  }
  
  return { valid: errors.length === 0, errors };
}

// 2. ç±»å‹æ£€æŸ¥
// scripts/type-check.js
export function runTypeCheck(): TypeCheckResult {
  const { typecheck } = require('react-scripts');
  // è¿è¡ŒTypeScriptç±»å‹æ£€æŸ¥
}

// 3. ESLintæ£€æŸ¥
// scripts/lint.js
export function runLint(): LintResult {
  const { ESLint } = require('eslint');
  // è¿è¡ŒESLintæ£€æŸ¥
}
```

---

## 4. è¿­ä»£å†å²

### 4.1 ç‰ˆæœ¬æ¼”è¿›

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç‰ˆæœ¬æ¼”è¿›æ—¶é—´çº¿                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  v1.0.0 â”€â”€â”€â”€â”€â”€â”€ v1.1.0 â”€â”€â”€â”€â”€â”€â”€ v1.2.0 â”€â”€â”€â”€â”€â”€â”€ v1.3.0 â”€â”€â”€â”€â”€ v1.4.0 â”‚
â”‚  2026-02-05    2026-02-05    2026-02-08    2026-02-08    2026-02-08 â”‚
â”‚      â”‚              â”‚              â”‚              â”‚              â”‚    â”‚
â”‚      â–¼              â–¼              â–¼              â–¼              â–¼    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚åŸºç¡€ç‰ˆ â”‚    â”‚æ€§èƒ½ä¼˜ â”‚    â”‚ UI/UX â”‚    â”‚æ•°æ®å¯ â”‚    â”‚ SDD   â”‚    â”‚
â”‚  â”‚      â”‚    â”‚åŒ–ç‰ˆ   â”‚    â”‚ å¢å¼ºç‰ˆ â”‚    â”‚é æ€§ç‰ˆ â”‚    â”‚å®Œæ•´ç‰ˆ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                     â”‚
â”‚  åŠŸèƒ½:         +ä¼˜åŒ–:         +ç•Œé¢:         +ç¼“å­˜:         +æ–‡æ¡£:  â”‚
â”‚  â€¢ Reacté¡¹ç›®   â€¢ memo       â€¢ å“åº”å¼      â€¢ 30s TTL     â€¢ SDDæ–‡æ¡£  â”‚
â”‚  â€¢ ç»„ä»¶å®ç°    â€¢ useCallbackâ€¢ æ±‰å ¡èœå•    â€¢ å¤šæºAPI     â€¢ æŠ€èƒ½æ¨¡å—  â”‚
â”‚  â€¢ è·¯ç”±        â€¢ lazy load  â€¢ åŠ¨ç”»        â€¢ é”™è¯¯å¤„ç†    â€¢ é”™è¯¯æ€»ç»“  â”‚
â”‚  â€¢ æ¨¡æ‹Ÿæ•°æ®    â€¢ ESLint     â€¢ æœç´¢ç­›é€‰    â€¢ é™çº§ç­–ç•¥    â€¢ è¿­ä»£è®°å½•  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | v1.0.0 | v1.1.0 | v1.2.0 | v1.3.0 | v1.4.0 |
|------|--------|--------|--------|--------|--------|
| åŸºç¡€ç»„ä»¶ | âœ… | âœ… | âœ… | âœ… | âœ… |
| æ€§èƒ½ä¼˜åŒ– | âŒ | âœ… | âœ… | âœ… | âœ… |
| å“åº”å¼UI | âŒ | âŒ | âœ… | âœ… | âœ… |
| å¤šæºAPI | âŒ | âŒ | âŒ | âœ… | âœ… |
| æ™ºèƒ½ç¼“å­˜ | âŒ | âŒ | âŒ | âœ… | âœ… |
| é”™è¯¯å¤„ç† | âŒ | âŒ | âŒ | âœ… | âœ… |
| SDDè®¾è®¡ | âŒ | âŒ | âŒ | âŒ | âœ… |
| æŠ€èƒ½æ¨¡å— | âŒ | âŒ | âŒ | âŒ | âœ… |
| å®Œæ•´æ–‡æ¡£ | âŒ | âŒ | âŒ | âŒ | âœ… |

### 4.3 æ€§èƒ½æ”¹è¿›

```
åŠ è½½æ—¶é—´å¯¹æ¯”:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŒ‡æ ‡             â”‚ v1.0.0  â”‚ v1.2.0  â”‚ v1.4.0  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FCP (First       â”‚ 2.5s    â”‚ 1.5s    â”‚ 1.2s    â”‚
â”‚  Contentful Paint)â”‚         â”‚         â”‚         â”‚
â”‚ LCP (Largest      â”‚ 4.0s    â”‚ 2.5s    â”‚ 2.1s    â”‚
â”‚  Contentful Paint)â”‚         â”‚         â”‚         â”‚
â”‚ TTI (Time to     â”‚ 5.0s    â”‚ 3.0s    â”‚ 2.5s    â”‚
â”‚  Interactive)    â”‚         â”‚         â”‚         â”‚
â”‚ CLS (Cumulative  â”‚ 0.15    â”‚ 0.08    â”‚ 0.05    â”‚
â”‚  Layout Shift)   â”‚         â”‚         â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

APIæ€§èƒ½å¯¹æ¯”:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŒ‡æ ‡             â”‚ v1.0.0  â”‚ v1.3.0  â”‚ v1.4.0  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ APIæˆåŠŸç‡        â”‚ 40%     â”‚ 80%     â”‚ 95%     â”‚
â”‚ å¹³å‡å“åº”æ—¶é—´     â”‚ 500ms   â”‚ 300ms   â”‚ 150ms   â”‚
â”‚ ç¼“å­˜å‘½ä¸­ç‡       â”‚ 0%      â”‚ 50%     â”‚ 75%     â”‚
â”‚ é”™è¯¯ç‡           â”‚ 60%     â”‚ 20%     â”‚ 5%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. æœ€ä½³å®è·µ

### 5.1 ä»£ç è§„èŒƒ

```typescript
// âœ… æ­£ç¡®çš„å¯¼å…¥é¡ºåº
// 1. Reactæ ¸å¿ƒ
import React, { useState, useEffect } from 'react';

// 2. ç±»å‹å®šä¹‰
import { Stock, Sector, StockData } from '../types/StockTypes';

// 3. æœåŠ¡å±‚
import { fetchStockData, clearCache } from '../services/stockApi';

// 4. å·¥å…·å‡½æ•°
import { formatPrice, calculateChange } from '../utils/formatters';

// 5. æ ·å¼
import './styles/Component.css';

// âœ… ä½¿ç”¨ç±»å‹åˆ«å
export type { Stock as StockData, Sector as SectorData };

// âœ… æ˜ç¡®çš„æ¥å£å®šä¹‰
export interface Stock {
  readonly symbol: string;  // åªè¯»å±æ€§
  name: string;
  price: number;
  // å¯é€‰å±æ€§ä½¿ç”¨ ?
  marketCap?: number;
}

// âœ… ä½¿ç”¨è”åˆç±»å‹
export type Market = 'CN' | 'US';
```

### 5.2 é”™è¯¯å¤„ç†æœ€ä½³å®è·µ

```typescript
// âœ… é”™è¯¯è¾¹ç•Œ
class ErrorBoundary extends React.Component<{ children: React.ReactNode }> {
  state = { hasError: false, error: null };
  
  static getDerivedStateFromError(error: Error) {
    return { hasError: true, error };
  }
  
  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    logError(error, errorInfo);
  }
  
  render() {
    if (this.state.hasError) {
      return <FallbackUI error={this.state.error} />;
    }
    return this.props.children;
  }
}

// âœ… APIè°ƒç”¨é”™è¯¯å¤„ç†
async function fetchWithRetry<T>(
  fn: () => Promise<T>,
  options: RetryOptions = { maxRetries: 3, delay: 1000 }
): Promise<T> {
  let lastError: Error;
  
  for (let i = 0; i < options.maxRetries; i++) {
    try {
      return await fn();
    } catch (error) {
      lastError = error as Error;
      if (i < options.maxRetries - 1) {
        await delay(options.delay * Math.pow(2, i)); // æŒ‡æ•°é€€é¿
      }
    }
  }
  
  throw lastError;
}
```

### 5.3 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ

```typescript
// âœ… ä½¿ç”¨React.memoä¼˜åŒ–ç»„ä»¶
export const StockCard = React.memo<StockCardProps>(({ stock }) => {
  return <div>{/* stock content */}</div>;
}, (prev, next) => {
  // è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
  return prev.stock.id === next.stock.id &&
         prev.stock.price === next.stock.price;
});

// âœ… ä½¿ç”¨useMemoç¼“å­˜è®¡ç®—ç»“æœ
const sortedStocks = useMemo(() => {
  return [...stocks].sort((a, b) => b.changePercent - a.changePercent);
}, [stocks]);

// âœ… ä½¿ç”¨useCallbackä¼˜åŒ–å›è°ƒ
const handleSelect = useCallback((stock: Stock) => {
  setSelectedStock(stock);
}, []);

// âœ… å»¶è¿ŸåŠ è½½ç»„ä»¶
const SectorDetail = lazy(() => import('./components/SectorDetail'));

// âœ… è™šæ‹Ÿåˆ—è¡¨ä¼˜åŒ–é•¿åˆ—è¡¨
const VirtualList = ({ items }) => (
  <FixedSizeList
    height={400}
    itemCount={items.length}
    itemSize={50}
  >
    {({ index, style }) => (
      <div style={style}>
        <ListItem item={items[index]} />
      </div>
    )}
  </FixedSizeList>
);
```

---

## 6. ç›‘æ§ä¸å‘Šè­¦

### 6.1 ç›‘æ§æŒ‡æ ‡

```typescript
// metrics.ts
import { Counter, Histogram, Gauge } from 'prom-client';

export const METRICS = {
  // APIæŒ‡æ ‡
  apiRequests: new Counter({
    name: 'stock_api_requests_total',
    help: 'Total API requests',
    labels: ['source', 'status']
  }),
  
  apiLatency: new Histogram({
    name: 'stock_api_latency_seconds',
    help: 'API request latency',
    buckets: [0.1, 0.5, 1, 2, 5],
    labels: ['source']
  }),
  
  // ç¼“å­˜æŒ‡æ ‡
  cacheHits: new Counter({
    name: 'stock_cache_hits_total',
    help: 'Total cache hits'
  }),
  
  cacheMisses: new Counter({
    name: 'stock_cache_misses_total',
    help: 'Total cache misses'
  }),
  
  // é”™è¯¯æŒ‡æ ‡
  errors: new Counter({
    name: 'stock_errors_total',
    help: 'Total errors',
    labels: ['type', 'source']
  }),
  
  // æ€§èƒ½æŒ‡æ ‡
  pageLoadTime: new Histogram({
    name: 'stock_page_load_seconds',
    help: 'Page load time',
    buckets: [1, 2, 3, 5, 10]
  })
};
```

### 6.2 å‘Šè­¦è§„åˆ™

```yaml
# alerting-rules.yml
groups:
  - name: stock-api-alerts
    rules:
      - alert: HighErrorRate
        expr: rate(stock_errors_total[5m]) > 0.1
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High error rate detected"
          description: "Error rate exceeds 10%"
      
      - alert: APIDown
        expr: rate(stock_api_requests_total[1m]) == 0
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "API appears to be down"
          description: "No API requests in the last 5 minutes"
      
      - alert: HighLatency
        expr: histogram_quantile(0.95, rate(stock_api_latency_seconds[5m])) > 2
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High API latency"
          description: "P95 latency exceeds 2 seconds"
      
      - alert: LowCacheHitRate
        expr: stock_cache_hits_total / (stock_cache_hits_total + stock_cache_misses_total) < 0.5
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "Low cache hit rate"
          description: "Cache hit rate below 50%"
```

### 6.3 æ—¥å¿—è§„èŒƒ

```typescript
// logger.ts
enum LogLevel {
  DEBUG = 0,
  INFO = 1,
  WARN = 2,
  ERROR = 3
}

interface LogEntry {
  timestamp: string;
  level: LogLevel;
  message: string;
  context?: Record<string, any>;
  error?: Error;
}

export class Logger {
  private context: string;
  
  constructor(context: string) {
    this.context = context;
  }
  
  debug(message: string, context?: Record<string, any>) {
    this.log(LogLevel.DEBUG, message, context);
  }
  
  info(message: string, context?: Record<string, any>) {
    this.log(LogLevel.INFO, message, context);
  }
  
  warn(message: string, context?: Record<string, any>) {
    this.log(LogLevel.WARN, message, context);
  }
  
  error(message: string, error?: Error, context?: Record<string, any>) {
    this.log(LogLevel.ERROR, message, { ...context, error: error?.message });
  }
  
  private log(level: LogLevel, message: string, context?: Record<string, any>) {
    const entry: LogEntry = {
      timestamp: new Date().toISOString(),
      level,
      message: `[${this.context}] ${message}`,
      context
    };
    
    // æ ¹æ®ç¯å¢ƒè¾“å‡º
    if (process.env.NODE_ENV === 'development') {
      console.log(JSON.stringify(entry));
    }
    
    // åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‘é€åˆ°æ—¥å¿—æœåŠ¡
    if (process.env.NODE_ENV === 'production') {
      // sendToLoggingService(entry);
    }
  }
}
```

---

## ğŸ“ é™„å½•

### A. å¿«é€Ÿä¿®å¤æŒ‡å—

| é—®é¢˜ | å¿«é€Ÿè§£å†³æ–¹æ¡ˆ |
|------|--------------|
| API 403 | æ£€æŸ¥ä»£ç†é…ç½®ï¼Œå¢å¼ºè¯·æ±‚å¤´ |
| å¯¼å…¥é”™è¯¯ | è¿è¡Œ `pnpm lint:fix` |
| ç±»å‹é”™è¯¯ | è¿è¡Œ `pnpm type-check` |
| å¾ªç¯ä¾èµ– | é‡æ„ä»£ç ï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥ |
| æ€§èƒ½é—®é¢˜ | ä½¿ç”¨React DevToolsåˆ†æ |

### B. å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼
pnpm start

# ç±»å‹æ£€æŸ¥
pnpm type-check

# ESLintæ£€æŸ¥
pnpm lint

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# è¿è¡Œæµ‹è¯•
pnpm test

# æ¸…ç†ç¼“å­˜
pnpm clean
```

### C. ç›¸å…³æ–‡æ¡£

- [README.md](../README.md) - é¡¹ç›®è¯´æ˜
- [SDD_DESIGN_DOCUMENT.md](./SDD_DESIGN_DOCUMENT.md) - å®Œæ•´SDDè®¾è®¡æ–‡æ¡£
- [ERROR_SUMMARY.md](./ERROR_SUMMARY.md) - ç®€è¦é”™è¯¯æ€»ç»“
- [skills.json](./skills.json) - æŠ€èƒ½é…ç½®

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0.0  
**æœ€åæ›´æ–°**: 2026-02-08  
**ç»´æŠ¤è€…**: OpenClaw AI Assistant  
**æ¨¡å‹**: MiniMax-M2.1

---

## æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†Stock Market Dashboardé¡¹ç›®ä¸­çš„æ‰€æœ‰é”™è¯¯ã€è§£å†³æ–¹æ¡ˆå’Œè¿­ä»£å†å²ã€‚é€šè¿‡SDDè®¾è®¡æ¨¡å¼çš„åº”ç”¨ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **é”™è¯¯å¯è¿½æº¯**: æ¯ä¸ªé”™è¯¯éƒ½æœ‰è¯¦ç»†çš„åˆ†æã€è§£å†³æ–¹æ¡ˆå’Œé¢„é˜²æªæ–½
2. **ç³»ç»ŸåŒ–å¤„ç†**: å»ºç«‹äº†å®Œæ•´çš„é”™è¯¯å¤„ç†æ¡†æ¶å’Œé™çº§ç­–ç•¥
3. **æŒç»­æ”¹è¿›**: é€šè¿‡ç›‘æ§æŒ‡æ ‡å’Œå‘Šè­¦è§„åˆ™ï¼Œå®ç°æŒç»­ä¼˜åŒ–
4. **çŸ¥è¯†æ²‰æ·€**: å°†ç»éªŒæ•™è®­è½¬åŒ–ä¸ºæœ€ä½³å®è·µå’Œæ–‡æ¡£